ìš°ë¦¬ê°€ í•™ë¶€ ë•Œ ë°°ìš´ ëª¨ë¸ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

/ *Phong BRDF Model*
$$\begin{align}
I_\lambda &= I_{a\lambda} \cdot k_{a\lambda}+I_{l\lambda} \cdot k_{d\lambda} \cdot (N \circ L)+I_{l\lambda} \cdot k_{s\lambda} \cdot (R \circ V)^n \\
&= \text{embient reflection} + \text{diffuse reflection} + \text{specular reflection}
\end{align}$$
/ *Blinn Phong BRDF Model* `with halfway vector`
$$I_\lambda = I_{a\lambda} \cdot k_{a\lambda}+f_{att}(d) \cdot I_{l\lambda} \cdot \{ k_{d\lambda} \cdot (N \circ L)+k_{s\lambda} \cdot (N \circ H)^n \}$$

ì¡°ì¡í•˜ê¸° ê·¸ì§€ ì—†ëŠ” ì˜›ë‚  ëª¨ë¸ë“¤ì´ë‹¤..

ìµœê·¼ì—” ë‹¤ìŒê³¼ ê°™ì€ ëª¨ë¸ì„ ì“´ë‹¤.

/ *PBR(Physically Based Rendering)*
reference: Map_Physically Based Rendering Cocos Creator.pdf

![450](../../../../Z.%20Docs/img/Pasted%20image%2020240919165321.png)
- Albedo Map
- Roughness Map
- Metallic Map
- Ambient Occlusion `ê·¸ë¦¼ ê·¸ë¦´ ë•Œ ê·¸ë¦¼ì ê°•ì¡°ë¥¼ ìœ„í•´ ì“°ëŠ” ê³±í•˜ê¸°ë‚˜ ê²€ì • ì˜¤ë²„ë ˆì´ ê°™ì€ê±°`
- Normal Map
- Emissive Map: ë°œê´‘
- Stemcil Map (Alpha Channel): ìµœì í™”ë¥¼ ìœ„í•´ ë©€ë¦¬ ìˆëŠ” ë¬¼ì²´ë¥¼ ë‹¨ìˆœí™”í•´ì„œ ê·¸ë¦¬ëŠ” ê²ƒ

PBR-Specular Workflow
PBR-Metalic Workflow

/ *Rendering Equation*
$$\begin{align} L_{o}(x, \vec \omega) &= L_e(x, \vec\omega) + L_r(x, \vec\omega) \\ &= L_e(x, \vec\omega) + \int_\Omega f_{r}(x, \vec\omega', \vec\omega)L_{i}(x, \vec\omega')(\vec\omega'\cdot\vec{n})d\vec\omega' \\ &= \text{xê°€ ì¹´ë©”ë¼ ë°©í–¥ìœ¼ë¡œ ìŠ¤ìŠ¤ë¡œ ë‚´ëŠ” ë¹›} + \text{xì—ì„œ ì¹´ë©”ë¼ ë°©í–¥ìœ¼ë¡œ ë°©ì‚¬ë˜ëŠ” ë¹›}&\end{align}$$
![300](../../../../Z.%20Docs/img/Pasted%20image%2020240715152030.png)

Reference
Advanced Global Illumination.pdf - 2.3 Radiometry
	flux, radiance, iradiance
Videos.txt ê¼­ ì‹œì²­í•´ë³´ê¸°
	#4, #9

### ğŸ“ Pdf: Slide_Rendering Equation - Image Synthesis - Part 3 - Chapter 1_p

/ *Angle & Solid Angle*
![300](https://qph.cf2.quoracdn.net/main-qimg-0083ec41ebff340b26b633e285b35d31.webp)

Angle(2D) $\theta$
ìµœëŒ€ $2\pi$ (ë°˜ì§€ë¦„ì´ 1ì¸ ì›ì˜ ì§€ë¦„)

/ *Solid Angle(3D)* $\ohm$
ìµœëŒ€ $4\pi$ (ë°˜ì§€ë¦„ì´ 1ì¸ êµ¬ì˜ ë©´ì )
ë°˜êµ¬, Hemisphere($\ohm$)ì˜ ê²½ìš° $2\pi$ì¸ ê²ƒì´ë‹¤.
$\int_{\ohm}\sin{\theta}\ d\theta\ d\phi = \int_{0}^{2\pi}\int^{\frac{\pi}{2}}_{0}{\sin{\theta}\ d\theta\ d\phi} = 2\pi$

/ *Radiant Flux* $\Phi$
ë‹¨ìœ„ ì‹œê°„ ë‹¹ ì–´ë–¤ ê°•ë„ë¡œ ë¹› ì—ë„ˆì§€ê°€ ë‚˜ê°€ê³  ìˆëŠ”ê°€
ë‹¨ìœ„: Watt $[W = \frac{J}{S}]$

/ *Radiant Intensity* $I$
$I(w) = \frac{d\Phi}{d\omega}$
íŠ¹ì • Solid Angle $d\omega$ ë¡œ ë‚˜ê°€ê³  ìˆëŠ” Radiance Flux
ë‹¨ìœ„: Watt per Steradian $[\frac{W}{sr}]$

/ *Irradiance* $E$
$E(x) = \frac{d\Phi}{dA}$
ë‹¨ìœ„ ë©´ì  $dA$ ë‹¹ ë“¤ì–´ì˜¤ëŠ” Radiant Flux, ë‚˜ê°€ëŠ” ê²ƒë„ ìˆë‹¤. `Radiant Exitant/Radiosity`
ë‹¨ìœ„: Watt per square Metre $[\frac{W}{m^2}]$

/ *Radiance* $L$
$L(x, w) = \frac{d^2\Phi}{dA\ \cos{\theta}\ d\omega}$
íŠ¹ì • Solid Angleê³¼ Projected Areaë¡œ ë‚˜ê°€ê³  ìˆëŠ” Radiance Flux
ë‹¨ìœ„: Watt per Steradian per square Metre $[\frac{W}{sr\ m^2}]$

$\Phi \propto dA\ d\omega$, FluxëŠ” ë©´ì ê³¼ ê°ë„ì— ë¹„ë¡€í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆëŠ”ë°
`íŠ¹ì • ì§€ì ì—ì„œ íŠ¹ì • ë°©í–¥ìœ¼ë¡œ ë¹›ì´ ì–¼ë§ˆë‚˜ ì„¸ê²Œ ë‚˜ê°€ê³ ìˆëŠ”ê°€`
ì •í™•íˆ ì—¬ê¸°ì„œ $dA$ëŠ” ë‹¤ìŒê³¼ ê°™ì´ progectionëœ ë©´ì ì´ë‹¤.
ë”°ë¼ì„œ $\cos{\theta}$ë¥¼ ê³±í•´ì£¼ëŠ” ê²ƒì´ ì—ë„ˆì§€ê°€ ì •í™•íˆ ìˆ˜ì§ ë°©í–¥ìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ë©´ì ì´ë‹¤.
![](../../../../Z.%20Docs/img/Pasted%20image%2020240919173726.png)

> ì™œ Radianceê°€ ì¤‘ìš”í• ê¹Œ?
- í•œ ì§€ì ì—ì„œ íŠ¹ì • ë°©í–¥ìœ¼ë¡œ $L$ì´ë¼ëŠ” Radianceê°€ ë‚˜ê°€ë©´ Radianceì˜ ê¸¸ì´ê°€ ì–´ë–»ê²Œ ë˜ë˜ ë°›ì•„ë“¤ì´ëŠ” ì§€ì ê³¼ ë°©ì¶œí•˜ëŠ” ì§€ì ì˜ ê°’ì´ ë˜‘ê°™ì„ ê²ƒì´ë‹¤.
- ì´ë¥¼ ì´ìš©í•´ Ray Tracingì„ í•˜ëŠ” ê²ƒì´ë‹¤.
- ë¬¼ë¡  ì§„ê³µ ìƒíƒœë¼ëŠ” ê°€ì • í•˜ì´ê³ , ì—°ê¸°ë‚˜ ê³µê¸°ê°€ ì¤‘ê°„ì— í¬í•¨ë˜ë©´ ì–˜ê¸°ê°€ ë˜ ë‹¬ë¼ì§„ë‹¤.
- ìˆ˜í•™ì ì¸ ì¦ëª…ë°©ë²•ì€ Advanced Global Illuminationêµì¬ 24p. ì°¸ê³ 

**Rendering Equation** `ì•ì„œ í•„ê¸°í•œê±°ë‘ ì‚´ì§ ë‹¤ë¥´ê¸´ í•œë° ì¼ë‹¨ ë³´ì`

$x$ë¼ëŠ” ì§€ì ì—ì„œ $\omega_i$ë¡œ ë¹›$L(\omega_i)$ì´ ë“¤ì–´ì˜¤ê³ , $\omega_o$ë¡œ ë‚˜ê°€ëŠ” ë¹›ì˜ ì„¸ê¸°ë¥¼ ê³„ì‚°í•´ë³´ì.
$$\begin{align} L_{o}(\omega_o) &= L_e(v) + \int_\ohm f_{r}(\omega_i, \omega_o)L_{i}(\omega_i)\cos{\theta}_i\ d\omega_i \\
L_i(l) &= \frac{d^2\Phi}{dA\cos\theta\ d\omega} \\
\frac{d^2\Phi}{dA}= d(\frac{d\Phi}{dA}) &= L_i(l)\cos\theta\ d\omega \\
&= dE(l) \text{(irradiance)}
 \\ \therefore L_o(\omega_o) &= L_e(v) + \int_\ohm{f_r(\omega_i, \omega_o)\ dE(\omega_i)}\end{align}$$
- ë”°ë¼ì„œ BRDFì‹ì„ ë¹¼ë©´ Equationì— Irradianceë§Œ ë‚¨ëŠ”ë‹¤.
- irradianceì— $f_r(v, l)$ë¥¼ ê³±í•˜ê³  $\ohm$ ë§Œí¼ ë‹¤ ë”í–ˆë”ë‹ˆ Radianceê°€ ë‚˜ì˜¨ ê²ƒì´ë‹¤. ë”°ë¼ì„œ $f_r(v, l)$ì˜ ë‹¨ìœ„ëŠ” $\frac{\text{Radiance}}{\text{Irradiance}} = \frac{1}{sr}$ê°€ ë  ê²ƒì´ë‹¤.
- $f_r(v, l)$: Bidirectional Reflection Distribution Function (BRDF), ì–˜ë¥¼ ì–´ë–»ê²Œ ëª¨ë¸ë§ í•˜ëŠëƒì— ë”°ë¼ Phong, PBR ë“±ì´ ë‚˜ì˜¤ëŠ” ê²ƒì´ë‹¤.

#### BRDF
> $f_{r}(\omega_i, \omega_o)$, Material Property

$\omega$ëŠ” ë°©í–¥ì´ë¯€ë¡œ íŒŒë¼ë¯¸í„°ê°€ ë‘ ê°œì´ë‹¤. ë”°ë¼ì„œ BRDF ì‹ì€ 4ì°¨ì› í•¨ìˆ˜ì´ë‹¤.
ë§Œì•½ ë°˜êµ¬ $\ohm$ì„ 1024ê°œë¡œ samplingí•œë‹¤ê³  ì¹˜ë©´ (ë“¤ì–´ì˜¤ëŠ” ê²ƒ) $\times$ (ë‚˜ê°€ëŠ” ê²ƒ) í•´ì„œ ë²Œì¨ $2^{20}$ì´ë‹¤.

Ideal Diffuse Material: ì´ìƒì ì¸ ë‚œë°˜ì‚¬ì²´ì˜ ê²½ìš° BRDFê°€ ìƒìˆ˜ê°€ ëœë‹¤., $f_r(\omega_o, \omega_i) = k_d$

$$\begin{align}\rho_d &= \frac{\int_\ohm\ \{\int_\ohm f_{r}(\omega_i, \omega_o)L_{i}(\omega_i)\cos{\theta}_i\ d\omega_i \}\ \cos\theta_o\ d\omega_o}{\int_\ohm{L(\omega_i)\ \cos\theta_i\ d\omega_i}} \\ \text{Albedo (Diffuse Color)} &= \frac{\int_\ohm L(\omega_o)M(x)}{E(x)}\end{align}$$
Albedo(Diffuse Color)
ì–´ë–¤ í•œ ì§€ì ì˜ ë“¤ì–´ì˜¤ëŠ” Flux ëŒ€ë¹„ ì–¼ë§Œí¼ì˜ Fluxê°€ ë‚˜ê°€ëŠ”ê°€
ì—ë„ˆì§€ ë³´ì¡´ì˜ ë²•ì¹™ì— ì˜í•´ ë¬´ì¡°ê±´ 1ë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ì•„ì•¼ í•œë‹¤.

ê·¸ë ‡ë‹¤ë©´ Ideal Diffuse Material ì¼ë•Œì˜ Albedoë¥¼ ê³„ì‚°í•´ë³´ê³  ì‹¤ì œì— ìƒì‘í•˜ëŠ” ê°’ ë‚˜ì˜¤ëŠ” ê²ƒì„ ê´€ì°°í•´ë³´ì.
$$\begin{align}\rho_d &= k_d\int_\ohm\cos\theta_o \ d\omega_o \\ &=k_d\int^{2\pi}_0\int^{\frac{\pi}{2}}_0\cos\theta_o\sin\theta_o\ d\theta\ d\phi \\ &= k_d\int^{2\pi}_0[\frac12\sin^2\theta_o]^{\frac{\pi}{2}}_0\ d\phi \\ &= k_d \int^{2\pi}_0\frac12 \ d\phi = k_d \cdot \pi\end{align}$$
`ì²« ë²ˆì§¸ì—ì„œ ë‘ ë²ˆì§¸ ì¤„ë¡œ ë„˜ì–´ê°€ëŠ” ê³¼ì •ì´ ì´í•´ê°€ ì•ˆ ê°€ë©´(ì´ì¤‘ì ë¶„) pdf 13p.ë¥¼ ë³´ê³ ì˜¤ì.`
ë”°ë¼ì„œ Ideal Diffuse Materialì˜ ê²½ìš° BADFì˜ ê°’ì„ Albedo ê°’ìœ¼ë¡œ ë‚˜íƒ€ë‚´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
$$k_d = \frac{\rho_d}{\pi}$$
í•™ë¶€ë•Œ ë°°ìš´ phong ì¡°ëª… ëª¨ë¸ ë‚œë°˜ì‚¬ ë¶€ë¶„ì˜ ê³µì‹ì˜ $k_{d\lambda}$ì— í•´ë‹¹í•œë‹¤.

/ *BRDF Properties*
BRDFê°€ ì‹ìœ¼ë¡œì¨ ì¸ì •ì„ ë°›ìœ¼ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤. `pdf 23p.`
- Positivity: í•¨ìˆ˜ê°’ì€ í•­ìƒ 0ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì•„ì•¼í•œë‹¤.
- Helmholtz Reciprocity: $l \rightarrow v = v \rightarrow l$ ì¦‰, Bidirectional í•´ì•¼í•œë‹¤.
- Energy Conservation: ì‚¬ë°©ì—ì„œ 1ë§Œí¼ì˜ ë¹›ì´ ë“¤ì–´ì˜¤ë©´ ë‚˜ê°€ëŠ” ê²ƒì€ 1ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì•„ì•¼ í•œë‹¤.

ê·¸ë ‡ë‹¤ë©´ Phongì˜ ëª¨ë¸ì„ BRDFë¡œ í•´ì„í•˜ì—¬ ì–¼ë§ˆë‚˜ ì¡°ì•…í•œ ëª¨ë¸ì´ì—ˆëŠ”ì§€ë¥¼ ì‚´í´ë³´ì.
$$\begin{align}I_\lambda &= I_{l\lambda} \cdot \{ k_{d\lambda} \cdot (N \circ L)+k_{s\lambda} \cdot (R \circ V)^n \} \\ &= \{ k_{d\lambda} + \frac{k_{s\lambda}(R\circ V)^n}{(n\circ L)} \} \ I_{l\lambda} \cdot (N\circ L) \\ &= f_r(\omega_i, \omega_o) \ L(\omega_i)\cdot \cos\theta_i\end{align}$$
Blinn-Phong Modelë„ $(R\circ V)$ê°€ $(N\circ H)$ë¡œ ë°”ë€Œì—ˆì„ ë¿ ë³„ ë‹¤ë¥¼ ê²ƒë„ ì—†ë‹¤.

### ğŸ“Pdf: Slide_PBR Materials - Image Synthesis - Part 3 - Chapter 3_p

#### BRDF
$$\begin{align}&L(v) = L_e(v) + L_r(v)\\ &L(v) = L_e(v) + \int_\ohm f_{r}(v, l)L(l)\cos{\theta}\ dl \\ &f_r(v, l) = f_d(v, l) + f_s(v,, l)\end{align}$$

#### Cook-Torrance Model

/ *Material Parameter*
1. metallic(metalness) = m
```
m = 1 // metal
0 <= m <= 1
m = 0 // non-metal = dielectrics
```

ì™œ 1ê³¼ 0ì‚¬ì´ ê°’ì´ ì¡´ì¬í• ê¹Œ? ë¬¼ì²´ì˜ í‘œë©´ì— metalì¸ ë¶€ë¶„ê³¼ metalì´ ì•„ë‹Œ ë¶€ë¶„ì´ í•œ í”½ì…€ì— ê´€ì°°ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

mì˜ ê°’ì— ë”°ë¼ specular ë°˜ì‚¬ë¥¼ ê³ ë ¤í•˜ëŠëƒ, ì•ˆ í•˜ëŠëƒê°€ ê²°ì •ëœë‹¤.
$m = 1, f_r(v, l) = f_s(v, l)$
$m = 0, f_r(v, l) = f_d(v, l) + f_s(v, l)$
ë”°ë¼ì„œ ì‹¤ì œ ì½”ë“œì—ì„œëŠ” m paramì˜ ë¹„ìœ¨ì„ ë°˜ì˜í•´ì„œ í•˜ë‚˜ì˜ ì‹ìœ¼ë¡œ í•©ì³ì„œ ì“´ë‹¤.
$f_r(v, l) = \frac{\rho_d}{\pi}(1 - m) + f_s(v, l)$

2. Roughness
```
0 <= r <= 1
```

3. Reflectance
```
0 <= l <= 1
```

/ *Metal-Roughness Model vs Specular - Glossinness*
ë‘˜ ì¤‘ ì–´ëŠ ë°©ë²•ìœ¼ë¡œ ê°€ëŠëƒì— ë”°ë¼ ì‚¬ìš©í•  mapë“¤ì´ ë‹¬ë¼ì§„ë‹¤.

#### ğŸ“ Base_s2013_pbs_physics_math_notes

/ Surface Scattering
Fresnel Equationì„ ìƒê¸°í•´ë³´ì.
incoming light = reflection + trasmission(refraction)

ë¹›ì´ ë“¤ì–´ì™”ì„ ë•Œ Fresnel Equationì— ì˜í•´ì„œ íŠ¹ì • ë¹„ìœ¨ë§Œí¼ì€ reflectë˜ê³  ë‚˜ë¨¸ì§€ëŠ” trasmissionëœë‹¤.

![300](../../../../Z.%20Docs/img/Pasted%20image%2020240926165445.png)
ğŸ”µ
ê·¸ëŸ°ë° transmissionëœ ë¹›ë“¤ ì¤‘ì—ì„œëŠ” ë‚´ë¶€ì—ì„œ ë°˜ì‚¬ë˜ê³  ë°˜ì‚¬ë˜ì„œ ë¬¼ì²´ì˜ ìƒ‰ìƒì„ ë¨¸ê¸ˆê³  ë‹¤ì‹œ í‘œë©´ ìœ„ë¡œ íƒˆì¶œí•˜ëŠ” ë¹›ë“¤ì´ ìˆë‹¤.
ì´ ë¹›ë“¤ì„ surface-scattered lightë¼ê³  í•œë‹¤.

ì´ê²ƒì´ non-metalì—ì„œ ê°€ì •í•˜ëŠ” diffuse lightì´ë‹¤.

ğŸŸ¡
specular reflectionì˜ ê²½ìš° metalê³¼ ê°™ë‹¤.

![300](../../../../Z.%20Docs/img/Pasted%20image%2020240926165431.png)
ğŸŸ 
ë°˜ë©´ metalì—ì„œëŠ” ì´ëŸ° í˜„ìƒì´ ì—†ê³  transmissionëœ ë¹›ë“¤ì´ ê·¸ëƒ¥ ë‚´ë¶€ì—ì„œ í¡ìˆ˜ë˜ë²„ë¦°ë‹¤.

ğŸŸ¡
ì´ì œ metalì—ì„œ ë§í•˜ëŠ” specular reflectionì— ëŒ€í•´ì„œ ì–˜ê¸°í•´ë³´ì.
ì´ë¡ ìƒìœ¼ë¡œëŠ” ë§ˆì¹˜ ê±°ìš¸ì²˜ëŸ¼ perfect specularì´ ë˜ì–´ì•¼ í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ë°˜ì‚¬ê°ê³¼ ë™ì¼í•œ ë°©í–¥ìœ¼ë¡œ ì‚´ì§ í¼ì ¸ì„œ ë¹›ì´ ë‚˜ê°„ë‹¤.

ì´ í™”ì‚´í‘œì˜ í­ì´ ì¢ì•„ì§€ëŠ” ê²½ìš°ë„ ìˆê³  í¼ì§€ëŠ” ê²½ìš°ë„ ìˆë‹¤.
- í­ì´ ì¢ìŒ
- í­ì´ ë„“ìŒ
- í­ì´ ì—†ìŒ: perfect specular
ì´ë¥¼ ëª¨ë¸ë§í•˜ëŠ” ê²ƒì´ **Microfacet Model**ì´ë‹¤.

ë‹¤ì‹œ ë³¸ Pdfë¡œ ëŒì•„ì™€ë³´ì.

/ *Microfacet BRDF*
í™•ë¥ ì ìœ¼ë¡œ ë¹›ì´ ë“¤ì–´ì™€ì„œ íŠ¹ì • êµ´ê³¡ì„ ë•Œë¦¬ë©´ ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ë¹›ì´ ë‚˜ê°ˆì§€ ê°ê°ì˜ êµ´ê³¡ ê°ê°ì€ perfect specular reflectionìœ¼ë¡œ ë‚˜ê°„ë‹¤ê³  ê°€ì •í•œë‹¤.

![](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiWsHtE33XAfxD6njyQ9bpOfoZL7_2T3kcxQ&s)
ì´ êµ´ê³¡, Microfacetì˜ ì •ë„ë¥¼ í™•ë¥ ì ìœ¼ë¡œ ì¡°ì ˆí•˜ëŠ” ê²ƒì´ Roughness Parameterì´ë‹¤.

ì‹¤ì œ ì‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
$$\begin{align}&f_s(v, l) = \frac{F(v, h)\ D(h)\ G(l, v)}{4\ \langle n\cdot l\rangle \langle n\cdot v\rangle} \\ &F: \text{Fresnel reflectance} \\ &D: \text{Normal distribution function (NDF)} \\ &G: \text{Geometry term}\end{align}$$

ê·¸ëŸ¼ Fresnel Reflectanceì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì.
ì•„ê¹Œ ìœ„ì—ì„œ í–ˆë˜ í™”ì‚´í‘œë“¤.. ì‹œì‘í•˜ê¸° ìœ„í•´ì„  ìš°ì„  ì–¼ë§ˆë‚˜ ë°˜ì‚¬ë˜ê³  ì–¼ë§ˆë‚˜ ë“¤ì–´ê°€ëŠ”ì§€ ì•Œì•„ì•¼ í•˜ëŠ” ê²ƒì€ ìëª…í•˜ë‹¤.
ì´ë¥¼ ìœ„í•œ ê²Œ Fresnel Reflectanceì´ë‹¤.

ê¸°ë³¸ ê°œë…ì€ ì „ì— í–ˆìœ¼ë‹ˆ, non-metalê³¼ metalë¡œ ë‚˜ëˆ„ì–´ parameterì˜ êµ¬ì²´ì ì¸ ê°’ì„ ìœ„ì£¼ë¡œ ë³´ì.
/ *Fresnel Reflectance: Non-Metal*
![450](../../../../Z.%20Docs/img/Pasted%20image%2020240926171537.png)
![450](../../../../Z.%20Docs/img/Pasted%20image%2020240926171645.png)
$F_0$: ìˆ˜ì§ê´‘ì¼ ë•Œì˜ ë¹„ìœ¨ì´ë‹¤.
ëŒ€ë¶€ë¶„ì˜ non-metalì€ ëŒ€ê²Œ 0~4%ë¡œ, ê±°ì˜ ë‹¤ í¡ìˆ˜í•œë‹¤ëŠ” ê²ƒì„ ë³¼ìˆ˜ìˆë‹¤. `ë‹¤ì´ì•„ëª¬ë“œëŠ” ì˜ˆì™¸`

/ *Fresnel Reflectance: Metal*
![450](../../../../Z.%20Docs/img/Pasted%20image%2020240926171557.png)
![450](../../../../Z.%20Docs/img/Pasted%20image%2020240926172429.png)

ë”°ë¼ì„œ ëª¨ë¸ë§ì„ í•  ê²½ìš° Non-Metalì¸ ê²½ìš°ëŠ” ê·¸ëƒ¥ ê°’ì„,
Metalì¸ ê²½ìš°ëŠ” í¬ê¸°ê°€ 3ì¸ Vectorê°€ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. `(Linear, Float)`

ì ê¹ ë‹¤ìŒ ì‹ì„ ìƒê¸°í•˜ì.
	$m = 1, f_r(v, l) = f_s(v, l)$
	$m = 0, f_r(v, l) = f_d(v, l) + f_s(v, l)$
ë³´í†µ Albedo Mapì„ ë³´ë©´ ê¸°ë³¸ ì»¬ëŸ¬ëŠ”
Non-Metalì€ $\rho_d$ê°€,
Metalì€ $F_0$ê°’ì´ ë“¤ì–´ê°„ë‹¤.

ìµœì¢…ì ìœ¼ë¡œ ìš°ë¦¬ëŠ” ì˜ˆì „ì— ë°°ì› ë˜ Schilick Approximationì„ ì“´ë‹¤. `ë¹¨ë¼ì„œ`
$$F_{schlick}(v, h) = F_0 + (1.0 - F_0)(1.0 - \langle v\cdot h \rangle)^5$$
Non-Metalì˜ ê²½ìš° vector $F_0$ì— ëª¨ë‘ ê°™ì€ ê°’ (0.04, 0.04, 0.04)ì´ ë“¤ì–´ê°€ì„œ ê³„ì‚°ëœë‹¤.

```
vec3 f0 = vec3(0.16 * (reflectance * reflectance));
```
-> ì´ë ‡ê²Œ í•˜ë©´ (Non-Metalì˜ ê²½ìš°) 0~16% ì‚¬ì´ì—ì„œ ê°’ ì¡°ì ˆì´ ê°€ëŠ¥í•˜ë‹¤. `ë‹¤ì´ì•„ëŠ” ì˜ˆì™¸`
```
f0 = mix(f0, baseColor, metalic);
```
Linear Interpolationì„ í•´ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤.
$$F_0 - \text{Base Color} \propto \text{metalic}(0.0 -1.0)$$

ì´ì œ ë‹¤ìŒ, $D$ í•¨ìˆ˜ë¥¼ ì‚´í´ë³´ì.
/ *Normal Distribution Function (NDF)*
ì´ í•¨ìˆ˜ëŠ” 3ê°œ ì •ë„ê°€ ìˆë‹¤.
$$\begin{align}&D_{Blinn}(h)\\ &D_{Backmann}(h)\\ &D_{GGX}(h)\end{align}$$
ì—¬ê¸°ì„œëŠ” GGXë¥¼ ì“´ë‹¤.
```
float D_FFX();
```

/ *Geometry Term*
microfacetë“¤ë¼ë¦¬ ê°„ì„­ì„ ì¼ìœ¼í‚¨ë‹¤.
![600](../../../../Z.%20Docs/img/Pasted%20image%2020240926174826.png)
- Masking Effect
- Shadowing Effect
$$G_{Cook-Torrance}(l, v) = min(a, ..)$$
ì—¬ê¸°ì„œëŠ” Smithë¥¼ ì“´ë‹¤.
```
float G_Smith();
```

#### Introduction

ë³¸ ë¬¸ì„œëŠ” CSE4170ì„ ìˆ˜ê°•í•˜ì—¬ Phong `í˜¹ì€ Blinn-Phong` Model ì •ë„ë§Œ ì´í•´í•˜ê³  ìˆë‹¤ëŠ” ê°€ì •í•˜ì— **PBR(Physically-Based Rendering) Shading Model**ì„ ì„¤ëª…í•˜ê²Œ ìœ„í•´ ì‘ì„±ë˜ì—ˆë‹¤.

# 1. What is PBR?

ìš°ë¦¬ê°€ í•™ë¶€ ë•Œ ë°°ìš´ ëª¨ë¸ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

/ *Phong BRDF Model*
$$\begin{align}
I_\lambda &= I_{a\lambda} \cdot k_{a\lambda}+I_{l\lambda} \cdot k_{d\lambda} \cdot (N \circ L)+I_{l\lambda} \cdot k_{s\lambda} \cdot (R \circ V)^n \\
&= \text{embient reflection} + \text{diffuse reflection} + \text{specular reflection}
\end{align}$$
/ *Blinn Phong BRDF Model* `with halfway vector`
$$I_\lambda = I_{a\lambda} \cdot k_{a\lambda}+f_{att}(d) \cdot I_{l\lambda} \cdot \{ k_{d\lambda} \cdot (N \circ L)+k_{s\lambda} \cdot (N \circ H)^n \}$$

ì´ë¥¸ ë°” ì˜›ë‚  ëª¨ë¸ë“¤ë¡œ, ë Œë”ë§ì— ëŒ€í•œ ê¸°ë³¸ ì§€ì‹ì„ ìµíˆëŠ” ë°ì—ëŠ” ì¤‘ìš”í•˜ë‚˜ ìµœì‹  ëª¨ë¸ë“¤ì´ëƒ í•˜ë©´ ê·¸ë ‡ì§€ ì•Šë‹¤.

ê·¸ë ‡ë‹¤ë©´ ìµœê·¼ì—” ì–´ë–¤ ëª¨ë¸ì„ ì“¸ê¹Œ? ê·¸ê²ƒì´ ë°”ë¡œ PBR(Physically Based Rendering) Modelì´ë‹¤.

#### PBR (Physically Based Rendering)
> ì‹¤ì œ ì„¸ê³„ì˜ ë¬¼ë¦¬ì  íŠ¹ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ë Œë”ë§ ê¸°ë²•ì´ë‹¤.

# 2. Rendering Equation

í•™ë¶€ ë•Œ ë°°ì› ë˜ Rendering Equationì„ ìƒê¸°í•´ë³´ì.
$$\begin{align} L_{o}(x, \vec \omega) &= L_e(x, \vec\omega) + L_r(x, \vec\omega) \\ &= L_e(x, \vec\omega) + \int_\Omega f_{r}(x, \vec\omega', \vec\omega)L_{i}(x, \vec\omega')(\vec\omega'\cdot\vec{n})d\vec\omega' \\ &= \text{xê°€ ì¹´ë©”ë¼ ë°©í–¥ìœ¼ë¡œ ìŠ¤ìŠ¤ë¡œ ë‚´ëŠ” ë¹›} + \text{xì—ì„œ ì¹´ë©”ë¼ ë°©í–¥ìœ¼ë¡œ ë°©ì‚¬ë˜ëŠ” ë¹›}&\end{align}$$
ì•„ë§ˆ ê·¸ ë•ŒëŠ” ìì„¸íˆ í•˜ì§€ ì•Šê³  ë„˜ì–´ê°”ì„ ê²ƒì´ë‹¤.
ë³¸ê²©ì ìœ¼ë¡œ PBRì— ëŒ€í•´ì„œ í•˜ê¸° ì „ì—, ìš°ë¦¬ëŠ” ì´ Rendering Equationì— ëŒ€í•´ì„œ ì •í™•íˆ ì•Œê³  ê°ˆ í•„ìš”ê°€ ìˆë‹¤.

# 3. PBR Materials
